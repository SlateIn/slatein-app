<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start" (click)="close()">
      <ion-icon name="arrow-back" size="large" ></ion-icon>
      Back
    </ion-buttons>
    <ion-title>{{header}}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
  <section>
    <ion-list>
      <ion-list-header>
        <ion-input type="text" placeholder="List Title" autofocus="true" color="primary" [(ngModel)]="header"></ion-input>
      </ion-list-header>

      <ion-list *ngFor="let todo of list; let i = index">
        <ion-item-sliding>
          <ion-item-options side="end">
            <ion-item-option (click)="deleteToDo(todo)" color="danger" expandable>
              Delete
            </ion-item-option>
          </ion-item-options>
          <ion-item lines="none" (click)="allowEditToDo = true">
            <ion-icon slot="start" name="checkmark-done-outline"></ion-icon>

            <ion-input *ngIf="allowEditToDo"></ion-input>
            <ion-icon name="pencil-sharp" *ngIf="allowEditToDo" autofocus="true" slot="end" size="small"></ion-icon>

            <ion-label *ngIf="!todo.completed && !allowEditToDo">{{ todo.title }}</ion-label>
            <ion-icon *ngIf="!todo.completed && !allowEditToDo" slot="end" name="radio-button-off" (click)="todoCompleted(todo)"></ion-icon>
          
            <ion-label *ngIf="todo.completed && !allowEditToDo"><s>{{ todo.title }}</s></ion-label>
            <ion-icon *ngIf="todo.completed && !allowEditToDo" slot="end"  mode="md" name="checkmark-circle-outline" (click)="todoCompleted(todo)"></ion-icon>
          </ion-item>
        </ion-item-sliding>
      </ion-list>

      <ion-item lines="none">
        <ion-icon slot="end" name="add-outline"(click)="toDoEntered()"></ion-icon>
        <ion-input type="text" value="" placeholder="Add Todo" clearInput [(ngModel)]="inputValue" (keyup.enter)="toDoEntered()" >
        </ion-input>
      </ion-item>
    </ion-list>
  </section>
</ion-content>
